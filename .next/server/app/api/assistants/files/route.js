"use strict";(()=>{var e={};e.id=445,e.ids=[445],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},1267:e=>{e.exports=require("worker_threads")},9796:e=>{e.exports=require("zlib")},4915:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>m,requestAsyncStorage:()=>v,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>_});var s={};r.r(s),r.d(s,{DELETE:()=>d,GET:()=>p,POST:()=>l});var a=r(9303),i=r(8716),o=r(670),n=r(3209),u=r(7965);async function l(e){let t=(await e.formData()).get("file"),r=await f(),s=await u.f.files.create({file:t,purpose:"assistants"});return await u.f.beta.vectorStores.files.create(r,{file_id:s.id}),new Response}async function p(){let e=await f(),t=await u.f.beta.vectorStores.files.list(e),r=await Promise.all(t.data.map(async t=>{let r=await u.f.files.retrieve(t.id),s=await u.f.beta.vectorStores.files.retrieve(e,t.id);return{file_id:t.id,filename:r.filename,status:s.status}}));return Response.json(r)}async function d(e){let t=(await e.json()).fileId,r=await f();return await u.f.beta.vectorStores.files.del(r,t),new Response}let f=async()=>{let e=await u.f.beta.assistants.retrieve(n.B);if(e.tool_resources?.file_search?.vector_store_ids&&e.tool_resources.file_search.vector_store_ids.length>0)return e.tool_resources.file_search.vector_store_ids[0];let t=await u.f.beta.vectorStores.create({name:"sample-assistant-vector-store"});return await u.f.beta.assistants.update(n.B,{tool_resources:{file_search:{vector_store_ids:[t.id]}}}),t.id},c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/assistants/files/route",pathname:"/api/assistants/files",filename:"route",bundlePath:"app/api/assistants/files/route"},resolvedPagePath:"/Users/ashumishrag/AshuMishraG/hardcoded_openai/app/api/assistants/files/route.tsx",nextConfigOutput:"",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:_,serverHooks:h}=c,w="/api/assistants/files/route";function m(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:_})}},3209:(e,t,r)=>{r.d(t,{B:()=>s});let s="asst_RZBTqqUlRwWLfrTLlrNUmVjc";if(""===s){let e=process.env.OPENAI_ASSISTANT_ID;if(void 0!==e)s=e;else throw Error("OPENAI_ASSISTANT_ID is not defined in the environment variables.")}},7965:(e,t,r)=>{r.d(t,{f:()=>s});let s=new(r(4205)).ZP}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,352],()=>r(4915));module.exports=s})();